<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Edit User</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="/css/styles.css">
    <link rel="stylesheet" type="text/css" href="/css/book-form.css">
    <link rel="stylesheet" type="text/css" href="/css/icons.css">
    <link rel="stylesheet" type="text/css" href="/css/font.css">
    <script>
        function validateForm() {
            var checkboxesEmoji = document.querySelectorAll('input[name="emoji"]:checked');
            if (checkboxesEmoji.length === 0) {
                alert("Please select an emoji that describes you the best.");
                return false;
            }
            return true;
        }
    </script>
</head>
<body>

<div class="container">

    <div class="form-container">
        <div class="logo-heading-container">
            <h1 class="font-700">
                User Directory
                <span class="material-symbols-outlined">account_box</span>
            </h1>
        </div>

        <hr>

        <div class="logo-edit-container">
            <h4 class="h4 mb-4 font-400">
                Edit User
                <span class="material-symbols-outlined">edit</span>
            </h4>
        </div>

        <form th:action="@{/users/save}"
              th:object="${theUser}" method="POST"
              onsubmit="return validateForm()">

            <div>
                <label>Person Details</label>
            </div>

            <input type="hidden" th:field="*{userId}" />

            <input type="hidden" th:field="*{password}" />

            <input type="hidden" th:field="*{active}" />

            <input type="hidden" th:field="*{activityPoints}" />

            <!-- Name & basic data -->
            <input type="text" th:field="*{firstName}" class="form-control mb-4 w-25" placeholder="First Name" required />

            <input type="text" th:field="*{lastName}" class="form-control mb-2 w-25" placeholder="Last Name" required />

            <label>Username:</label>
            <input type="text" th:field="*{username}" class="form-control mb-4 w-25" placeholder="First Name" required />

            <input type="text" th:field="*{email}" class="form-control mb-4 w-25" placeholder="Email" required />

            <!-- Emoji selection -->
            <label class="form-label">Select emoji that describes you the best</label>
            <div class="mb-4">
                <div class="form-check form-check-inline">
                    <input th:field="*{emoji}" class="form-check-input" type="radio" name="selectedEmoji" value="1"  required/>
                    <label class="form-check-label">
                        <span class="emoji-styles">&#x1F60A;</span>
                    </label>
                </div>
                <div class="form-check form-check-inline">
                    <input th:field="*{emoji}" class="form-check-input" type="radio" name="selectedEmoji" value="2"  required/>
                    <label class="form-check-label">
                        <span class="emoji-styles">&#x1F60E;</span>
                    </label>
                </div>
                <div class="form-check form-check-inline">
                    <input th:field="*{emoji}" class="form-check-input" type="radio" name="selectedEmoji" value="3"  required/>
                    <label class="form-check-label">
                        <span class="emoji-styles">&#x1F913;</span>
                    </label>
                </div>
                <div class="form-check form-check-inline">
                    <input th:field="*{emoji}" class="form-check-input" type="radio" name="selectedEmoji" value="4"  required/>
                    <label class="form-check-label">
                        <span class="emoji-styles">&#x1F607;</span>
                    </label>
                </div>
                <div class="form-check form-check-inline">
                    <input th:field="*{emoji}" class="form-check-input" type="radio" name="selectedEmoji" value="5"  required/>
                    <label class="form-check-label">
                        <span class="emoji-styles">&#x1F9D0;</span>
                    </label>
                </div>
            </div>

            <!-- Authorities -->
            <input type="hidden" >

            <button type="submit" class="btn btn-info col-2">Save</button>


        </form>

        <hr>

        <a th:href="@{'/users/profile/' + ${theUser.username}}">Back to Profile</a>
    </div>

</div>
</body>
</html>